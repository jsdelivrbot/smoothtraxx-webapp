{"version":3,"sources":["traxx/traxx.routes.js"],"names":[],"mappings":";;AAAA,CAAC,YAAY;AACT;;AAEA,YACK,MADL,CACY,WADZ,EAEK,MAFL,CAEY,UAAU,cAAV,EAA0B,kBAA1B,EAA8C;;AAElD,2BAAmB,SAAnB,CAA6B,GAA7B;;AAEA,uBACK,KADL,CACW,OADX,EACoB;AACZ,iBAAK,GADO;AAEZ,yBAAa,0BAFD;AAGZ,wBAAY,iBAHA;AAIZ,0BAAc;AACd;AACA;AACA;AAPY,SADpB;AAUH,KAhBL;;AAkBA;;AAEA;AACA,aAAS,YAAT,CAAsB,EAAtB,EAA0B,OAA1B,EAAmC,KAAnC,EAA0C;;AAEtC,eAAO,QAAQ,UAAR,GAAqB,IAArB,CAA0B,UAAU,IAAV,EAAgB;;AAE7C,gBAAI,YAAJ;AAAA,gBACI,YADJ;AAAA,gBAEI,QAFJ;AAAA,gBAGI,YAAY,EAHhB;;AAKA;AACA,2BAAe,KAAK,QAAL,CAAc,MAAd,CAAqB,CAArB,EAAwB,KAAxB,CAA8B,KAA9B,CAAoC,IAApC,CAAf;;AAEA;AACA,uBAAW,CAAC,YAAD,CAAX;;AAEA,mBAAO,GAAG,GAAH,CAAO,QAAP,EAAiB,IAAjB,CAAsB,YAAY;AACrC,uBAAO,SAAP;AACH,aAFM,CAAP;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAS,UAAT,GAAsB;;AAElB,uBAAO,MAAM,SAAN,CAAgB,aAAa,CAAb,CAAhB,EAAiC,aAAa,CAAb,CAAjC,EAAkD,aAAa,CAAb,CAAlD,EAAmE,IAAnE,CAAwE,UAAU,IAAV,EAAgB;AAC3F,8BAAU,GAAV,GAAgB,KAAK,CAAL,CAAhB;AACA,wBAAI,KAAK,CAAL,CAAJ,EAAa;AACT,kCAAU,GAAV,CAAc,QAAd,GAAyB,wFAAwF,KAAK,CAAL,EAAQ,KAAzH;AACH;AACJ,iBALM,CAAP;AAOH;AAEJ,SArCM,CAAP;AAuCH;AAEJ,CAnED","file":"traxx/traxx.routes.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular\n        .module('app.traxx')\n        .config(function ($stateProvider, $urlRouterProvider) {\n\n            $urlRouterProvider.otherwise('/');\n\n            $stateProvider\n                .state('traxx', {\n                    url: '/',\n                    templateUrl: 'scripts/traxx/traxx.html',\n                    controller: 'TraxxController',\n                    controllerAs: 'vm'\n                    // resolve: {\n                    //     homeResolve: getTrackInfo\n                    // }\n                })\n        });\n\n    // getTrackInfo.$inject = ['$q', 'Icecast', 'Track'];\n\n    /* @ngInject */\n    function getTrackInfo($q, Icecast, Track) {\n\n        return Icecast.nowPlaying().then(function (data) {\n\n            var chlFullTitle,\n                slfFullTitle,\n                promises,\n                trackInfo = {};\n\n            // chlFullTitle = data.icestats.source[0].title.split('__');\n            slfFullTitle = data.icestats.source[1].title.split('__');\n\n            // promises = [getChlInfo(), getSlfInfo()];\n            promises = [getSlfInfo()];\n\n            return $q.all(promises).then(function () {\n                return trackInfo;\n            });\n\n            // function getChlInfo() {\n            //\n            //     return Track.trackInfo(chlFullTitle[0], chlFullTitle[1], chlFullTitle[2]).then(function (info) {\n            //         trackInfo.chl = info[0];\n            //         trackInfo.chl.coverUrl = 'https://s3.eu-central-1.amazonaws.com/smx-static/RaiNAS_1/RaiNAS/music/live/covers/' + info[0].cover;\n            //     });\n            //\n            // }\n\n            function getSlfInfo() {\n\n                return Track.trackInfo(slfFullTitle[0], slfFullTitle[1], slfFullTitle[2]).then(function (info) {\n                    trackInfo.slf = info[0];\n                    if (info[0]) {\n                        trackInfo.slf.coverUrl = 'https://s3.eu-central-1.amazonaws.com/smx-static/RaiNAS_1/RaiNAS/music/live/covers/' + info[0].cover;\n                    }\n                });\n\n            }\n\n        });\n\n    }\n\n})();"],"sourceRoot":"/source/"}